# PROTECT

**P**ersonalized **R**eport **O**n **T**reatment and **E**legibility for **C**linical **T**rials 

PROTECT determines the clinical evidence applicable for a sample based on all genomic events that are flagged as being reportable.
PROTECT works exclusively on a clinical database generated by [SERVE](../serve/README.md) and uses a set of rules to match any type of 
evidence from SERVE against reportable genomic events.

## Contents
 - [How is evidence matched against genomic events?](#evidence-determination-per-type-of-genomic-event)
 - [When is evidence considered on-label?](#determining-whether-evidence-is-on-label-or-not)
 - [What evidence is considered relevant for reporting?](#evidence-consolidation-filtering-and-reporting)
 - [What output is produced by PROTECT?](#protect-output)

## Evidence determination per type of genomic event

Genomic events are categorized in five categories and evidence is matched for every category independently.

#### SNVs and (small) INDELs

For reportable small variants (SNVs and INDELs), the following matching is performed:
 - If the evidence is defined on the exact variant (hotspot) then evidence is always considered applicable
 - If the variant falls within the range in which the evidence is applicable then the evidence is applicable is the variant mutation type
 matches with the filter defined as part of the evidence.
 - If a variant affects a gene for which evidence is applicable on a gene level (activation, inactivation, or any mutation), 
 then the evidence is considered applicable if the combination of variants affecting that gene have a high driver likelihood (> 80%).
 
Do note that germline and somatic variants are treated equally. It is not relevant for clinical evidence whether the variant is present 
in the germline already or has been acquired by the tumor somatically.   

#### Copy numbers

For copy numbers the matching is straightforward: evidence on amplifications and deletions is considered applicable in case a gene has been 
amplified or deleted. In addition to this trivial matching, a deep deletion is assumed to inactivate a gene and hence evidence on gene 
inactivation is considered applicable in case of a deep deletion. 

#### Homozygous disruptions

When a gene has been homozygously disrupted, evidence is applicable when it has been defined on a gene level for which the event 
should be either inactivation or any mutation. 

#### Fusions

For fusions there the following matching is performed:
 - Evidence defined on a promiscuous gene level is always considered applicable if a fusion with that gene is reported either in 5' or 3' 
 position.
 - Evidence that is applicable on an exact fusion pair has to match with the actual fusion pair, and also has to match the (optional) 
 exonic range defined as restriction on the evidence.

#### Signatures

Evidence on signatures is matched based on the interpretation of the algorithm producing the signature. For example, when CHORD suggests a
sample is HR deficient, any evidence for HR deficiency is considered applicable.

## Determining whether evidence is on-label or not

## Evidence consolidation, filtering and reporting

## PROTECT output